{% extends 'shop/base.html' %}
{% load static %}

{% block title %}
<title>Информация о заказе</title>
{% endblock title %}

{% block content %}

<div class="profile_content">
    {% include 'users/profile_base.html' %}

    <div class="order-detail-container">
        <!-- Левая часть — информация о заказе -->
        <div class="order-info">
            <h3>Информация о заказе</h3>
            <div class="order-info-row">
                <strong>Номер:</strong> {{ order.number }}
            </div>
            <div class="order-info-row">
                <strong>Оплата:</strong> {{ order.get_payment_display }}
            </div>
            <div class="order-info-row">
                <strong>Доставка:</strong> {{ order.get_delivery_display }}
            </div>
            <div class="order-info-row">
                <strong>Дата:</strong> {{ order.created_at|date:"d.m.Y H:i" }}
            </div>
        </div>

        <!-- Правая часть — товары -->
        <div class="order-items-section">
            <h3>Товары в заказе</h3>
            <div class="order-items-grid">
                <!-- Заголовки -->
                <div class="order-items-header">Наименование</div>
                <div class="order-items-header">Кол-во</div>
                <div class="order-items-header">Цена</div>
                <div class="order-items-header">Стоимость</div>

                <!-- Товары -->
                {% for item in order_items %}
                    <div class="order-items-cell">{{ item.product.name }}</div>
                    <div class="order-items-cell">{{ item.quantity }}</div>
                    <div class="order-items-cell">{{ item.price }} ₽</div>
                    <div class="order-items-cell">{{ item.total_price }} ₽</div>
                {% endfor %}

                <!-- Итого -->
                <div class="order-items-cell" style="grid-column: 3; text-align: right;"><strong>Итого:</strong></div>
                <div class="order-items-cell" style="grid-column: 4;"><strong>{{ order.get_total_cost }} ₽</strong></div>
            </div>
        </div>
    </div>
</div>

{% endblock content %}